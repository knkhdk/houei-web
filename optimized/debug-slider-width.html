<!doctype html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>スライダー幅デバッグ</title><style>body{font-family:Arial,sans-serif;margin:20px;background-color:#f5f5f5}.debug-container{max-width:1200px;margin:0 auto;background:#fff;padding:20px;border-radius:10px;box-shadow:0 2px 10px rgba(0,0,0,.1)}.debug-info{background:#e3f2fd;padding:15px;border-radius:5px;margin-bottom:20px}.debug-info h3{margin-top:0;color:#1976d2}.debug-controls{display:flex;gap:10px;margin-bottom:20px}.debug-btn{background:#2196f3;color:#fff;border:none;padding:10px 20px;border-radius:5px;cursor:pointer}.debug-btn:hover{background:#1976d2}.slider-container{max-width:1200px;margin:0 auto;overflow:hidden;position:relative;border:2px solid #ddd;border-radius:10px}.slider-track{display:flex;transition:transform .5s ease;width:100%}.slide{width:calc(100% / 3);display:flex;align-items:center;gap:40px;padding:20px;flex-shrink:0;background:#f8f9fa;border-right:1px solid #ddd;min-height:200px}.slide:last-child{border-right:none}.slide-content{flex:1}.slide-content h3{color:#2c5aa0;margin-bottom:10px}.slider-controls{display:flex;justify-content:center;gap:20px;margin-top:20px}.slider-btn{background:#2c5aa0;color:#fff;border:none;width:50px;height:50px;border-radius:50%;cursor:pointer;font-size:1.2rem}.slider-btn:hover{background:#1e4a8a}.slide-info{background:#fff3cd;padding:10px;border-radius:5px;margin-top:10px;font-size:.9rem}@media (max-width:768px){.slide{width:calc(100% / 2)}}@media (max-width:480px){.slide{width:100%}}</style></head><body><div class="debug-container"><h1>スライダー幅デバッグ</h1><div class="debug-info"><h3>デバッグ情報</h3><div id="debug-info"></div></div><div class="debug-controls"><button class="debug-btn" onclick="checkSliderState()">スライダー状態確認</button> <button class="debug-btn" onclick="resetSlider()">スライダーリセット</button> <button class="debug-btn" onclick="forceUpdate()">強制更新</button></div><div class="services-slider"><div class="slider-container"><div class="slider-track" id="slider-track"><div class="slide"><div class="slide-content"><h3>上下水道工事</h3><p>開削工事、推進工事</p><div class="slide-info">スライド1 - 幅: <span class="slide-width">計算中...</span></div></div></div><div class="slide"><div class="slide-content"><h3>構造物工事</h3><p>水貯留施設工事、擁壁・水路工事</p><div class="slide-info">スライド2 - 幅: <span class="slide-width">計算中...</span></div></div></div><div class="slide"><div class="slide-content"><h3>河川工事</h3><p>河川堤防工事、河道掘削工事</p><div class="slide-info">スライド3 - 幅: <span class="slide-width">計算中...</span></div></div></div><div class="slide"><div class="slide-content"><h3>道路工事</h3><p>舗装工事、排水構造物工事</p><div class="slide-info">スライド4 - 幅: <span class="slide-width">計算中...</span></div></div></div><div class="slide"><div class="slide-content"><h3>公園工事</h3><p>都市公園施設、公園整備工事</p><div class="slide-info">スライド5 - 幅: <span class="slide-width">計算中...</span></div></div></div><div class="slide"><div class="slide-content"><h3>撮影スタジオ事業</h3><p>県内最大級の欧風ハウススタジオ</p><div class="slide-info">スライド6 - 幅: <span class="slide-width">計算中...</span></div></div></div></div></div><div class="slider-controls"><button class="slider-btn prev-btn" onclick="moveSlide(-1)">‹</button> <button class="slider-btn next-btn" onclick="moveSlide(1)">›</button></div></div></div><script>let currentSlide=0,totalSlides=6;function getVisibleSlides(){var e=window.innerWidth;return 900<e?3:600<e?2:1}function updateSlider(){var e=document.getElementById("slider-track"),t=100/getVisibleSlides(),t=-currentSlide*t;e.style.transform=`translateX(${t}%)`,updateDebugInfo()}function moveSlide(e){var t=getVisibleSlides(),n=Math.max(1,totalSlides-t+1);let o=currentSlide+e;(o=o<0?n-1:o)>=n&&(o=0),currentSlide=o,updateSlider(),console.log(`スライダー移動: ${currentSlide+1}（表示枚数: ${t}枚）`)}function updateDebugInfo(){var e=document.getElementById("slider-track"),t=e.querySelectorAll(".slide"),n=getVisibleSlides();t.forEach((e,t)=>{var n=e.querySelector(".slide-width"),e=getComputedStyle(e);n.textContent=e.width}),document.getElementById("debug-info").innerHTML=`
                <p><strong>画面幅:</strong> ${window.innerWidth}px</p>
                <p><strong>表示枚数:</strong> ${n}枚</p>
                <p><strong>現在のスライド:</strong> ${currentSlide+1}</p>
                <p><strong>スライド幅:</strong> ${100/n}%</p>
                <p><strong>transform:</strong> ${e.style.transform}</p>
                <p><strong>総スライド数:</strong> ${totalSlides}</p>
            `}function checkSliderState(){var e=document.getElementById("slider-track");console.log("=== スライダー状態確認 ==="),console.log("画面幅:",window.innerWidth),console.log("表示枚数:",getVisibleSlides()),console.log("現在のスライド:",currentSlide+1),console.log("transform:",e.style.transform),e.querySelectorAll(".slide").forEach((e,t)=>{e=getComputedStyle(e);console.log(`スライド${t+1}の幅:`,e.width)})}function resetSlider(){currentSlide=0,updateSlider(),console.log("スライダーをリセットしました")}function forceUpdate(){updateDebugInfo(),console.log("強制更新を実行しました")}document.addEventListener("DOMContentLoaded",function(){updateSlider(),window.addEventListener("resize",function(){setTimeout(updateSlider,100)})})</script></body></html>